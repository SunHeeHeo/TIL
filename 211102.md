# 211101 TIL

## 오늘 내가 한 것들
산책 약속 등록/조회/수정/삭제 하기(CRUD)


### 오늘의 풀었던 난관
원래 취지)

디비 테이블을 효율적으로 관리하기 위해 하나의 페이지에서 2개의 테이블을 생성해 관리하고자 했다.

문제 발생)

한 페이지에서 다 받은 정보를 여러 테이블로 보내고 싶은데, 각각 두번 날려서 보내기엔 

코드가 반복되는게 많고 너무 길어지는 문제가 생김

디비 사용의 효율성과 속도 문제 코드를 간결히 쓸 생각을 해보았다.


### 어떻게 하였나?
구글링 해본 결과
```
`INSERT ALL INTO post VALUES('${meeting_date}','${meeting_time}','${dog_count}','${wish_desc}','${completed}') location VALUES('${location_category}','${longitude}','${latitude}','${location_address}')`;
```
로 한번에 두개의 테이블을 생성 할수 있다고 한다. 

그런데, 이 코드를 이용해서 코드를 치면, post에 생성도 되지 않는 location_id정보를 입력해줘야 해서 첫번째 찾아본 방법이 불가한 것으로 보였다.

좀 더 고민해 본결과 

차라리 한꺼번에 테이블을 만들고, 그 테이블에서 두개의 테이블로 나눠서 저장하는 방법이 제일 효율적인거 같아 보이는데 개인적인 뇌피셜.. (근데, 디비의 낭비가 아닐까...라는 생각이)
원래 디비 스키마를 처음 짤때부터 post에서 location 테이블을 따로 빼는 메리트가 없는거 같다고 했지만 팀원들이 location 정보를 따로 쓸 경우가 있을수 있고, update할때, 디비 사용을 줄일수 있을것 같아 location table을 따로 빼기로 했었다.

세번째 해본 시도는, 

post table에 입력하고, location table에 값을 입력하는 코드를(길다고 고민되어진) 만들었음  그런데 문제는 자식테이블을 만들때 부모 테이블인 post_id를 가지고 와야하는데 받을수 있는 방법이 생각이 안났다.


결국에는, 일단 프로젝트를 진행 해야 하기 때문에, 한 페이지에 있는 정보는 하나의 테이블로 만들어 관리 하기로 했다! 좀 더 효율적으로 관리 할수 있는 방법이 없을까..

멘토님께 여쭤보기 결정!!

### 무엇을 개선 해야 했나?
하나의 문제가 생기면, 그걸 생각하는데 너무 오랜 시간을 투자하는거 같다.
결국에 심플한 CRUD방법으로 갔지만,
저 테이블 분리때문에 오늘 코딩시간중에 한 8시간은 할애 한거 같다.

### 구체적인 해결방법은 무엇인가?
좀 더 시간을 효율적으로 쓰기로 하자!
시간을 정해두고 (스스로 찾고 생각하는 시간 2~3시간) 문제를 풀수 없을 것 같을때 
일차적으로 주변 사람들에게 물어보고,
멘토님의 도움을 바로 요청 받을수 있을때는 그렇게 하고,
그렇게 하지 못할때는 
일단 구현을 목적으로 하자!

### 어제보다 나은 나였는가?
월요일보다는 집중도 있기 시간을 쓴거 같다.
물론, 오류? 풀지 못하는 문제로 시간을 대부분 쓴게 아쉽긴 하지만,
그래도 나름 mysql join 부분을 공부해가며, 어제 보다는 집중도 있기 시간을 쓴거 같다

내일은 좀 더 시간을 집중도 있게 알차게 쓰고,
더 딥하게 꼼꼼하게,
그리고 새로운 기능도 배울수 있는 하루가 되도록 하자!!!

