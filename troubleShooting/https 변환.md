36시간 정도 걸린 https 변환 방법에 대해 적어보겠다.
시간이 오래 걸린 이유는,
블로그에 올라와 있던 글이 aws 홈페이지와 상이했기 때문에 오려 걸렸던거 같다!

(aws EC2 인스턴스를 구매 한 이후라고 가정 한다)

# 1. 첫번째 도메인 구입하기
구입 가능 한곳, 
1) aws
https://console.aws.amazon.com/route53/home#DomainListing:
2) 카페24
3) 가비아 

처음에는 카페 24에서 구매를 했는데, 
외부 인증서가 발급 거절 통지를 받아서 
본사에 전화해보니, 호스팅을 카페 24에서 하지 않아서, 발생하는 문제라고 했다.

그래서, 가비아로 옮겨서 
도메인을 구메 했다(그렇게 하지 않아도 되는 거였는데,
빨리 문제를 해결하고 싶어서 그렇게 결정 했다)
도메인은 가장 저렴한 것으로 구매 함.

# 2. 구매한 도메인과 ip 주소를 연결 해준다.
aws EC2 인스턴트 IP 주소를 가비아 DNS에 입력해준다.

# 3. ACM 서비스로 SSL 인증서 등록하기
- 도메인 주소를 입력하고, DNS 검증 방식을 택한다.
- 그 후, 레코드 생성 버튼을 클릭하여, Route53에
해당 값의 레코드를 추가 한다.
- 인증서 발급 되는 데까지는 시간이 걸림.


# 5. EC2 로드 밸런서 설정 하기 
- application 로드 밸런서를 클릭
- 리스너를 추가하여, https 사용을 허용
- 가용 영역 클릭 
- 보안 설정 구성에서 3에서 받은 인증서를 선택한다
- EC2인스턴스 설정에서 만들었던 보안그룹을 선택 한다
- 등록된 항목에 추가 버튼을 클릭
- 로드 밸런서를 생성 한다.
- active 상태가 되면, 


# 6. Route53의 도메인과 ELB인스턴스 DNS연결하기 
- 기존에 등록 했던, 레코드 값 수정 하기
- 도메인의 레코더를 선택하고, 별칭에 예를 클릭
- 별칭 대상에 설정한 로드 밸런서 항목을 선택
- 저장 

# 7. 개인적으로 추가 적으로 해줬던 것)
도메인을 구입 한 곳에서 
route53에 있는 네임 서버를 기재 해줬고,
Cname의 name과 value 값을 줬다.



// 서버 오픈 과정 간략히
ec2 인스턴스 구매 (ubuntu 18, t2 티어 (무료)),
인바운드 보안 설정 
-> 터미널에, ssh -i 보안키 ubuntu@ip 주소로 입력 
-> node 설치, 
-> mysql 설치 
-> 외부 접속 허용 (bindAdress 주석 처리 포함)
-> ngnix 설치 -> proxy 설정 
-> reverse proxy 설정 부분에 이미지 관련 코드 추가, socket io 설정 부분 추가
-> 파이질라 파일 업로드
-> pm2 설정
-> sudo s -> cd 파이질라 업로드 파일 
-> pm2 start/ pm2 log


// ssl 인증서, loadblancer에 대해서 자세히 알기
// cloudFront 개념 알기 

